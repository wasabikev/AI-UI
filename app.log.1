2024-03-20 15:21:02,701 - app - INFO - Received model: gpt-4-0125-preview
2024-03-20 15:21:02,703 - app - INFO - Received temperature: 0.3
2024-03-20 15:21:02,706 - app - INFO - Using existing conversation with id 328.
2024-03-20 15:21:04,322 - app - INFO - Response from model: The sun cast a warm, golden glow over the landscape, transforming the scene into a breathtaking spectacle.
2024-03-20 15:21:04,323 - app - INFO - Prompt tokens: 24
2024-03-20 15:21:04,324 - app - INFO - Completion tokens: 20
2024-03-20 15:21:04,325 - app - INFO - Total tokens: 44
2024-03-20 15:21:04,328 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are a knowledgeable assistant that specializes in critical thinking and analysis.'}, {'role': 'user', 'content': 'I need a test sentence with the word "sun"'}, {'role': 'assistant', 'content': 'The sun cast a warm, golden glow over the landscape, transforming the scene into a breathtaking spectacle.'}]
2024-03-20 15:46:31,552 - app - INFO - Received model: gpt-4-0125-preview
2024-03-20 15:46:31,553 - app - INFO - Received temperature: 0.3
2024-03-20 15:46:31,555 - app - INFO - Using existing conversation with id 328.
2024-03-20 15:46:33,121 - app - INFO - Response from model: The cat gracefully leaped onto the windowsill, its eyes intently following the fluttering birds outside.
2024-03-20 15:46:33,317 - app - INFO - Prompt tokens: 55
2024-03-20 15:46:33,318 - app - INFO - Completion tokens: 21
2024-03-20 15:46:33,318 - app - INFO - Total tokens: 76
2024-03-20 15:46:33,325 - app - INFO - Received messages: [{'content': 'You are a knowledgeable assistant that specializes in critical thinking and analysis.', 'role': 'system'}, {'content': 'I need a test sentence with the word "sun"', 'role': 'user'}, {'content': 'The sun cast a warm, golden glow over the landscape, transforming the scene into a breathtaking spectacle.', 'role': 'assistant'}, {'role': 'user', 'content': 'I need a test sentnce with "Cat" please'}, {'role': 'assistant', 'content': 'The cat gracefully leaped onto the windowsill, its eyes intently following the fluttering birds outside.'}]
2024-03-20 15:46:47,448 - app - INFO - Received model: gpt-4-0125-preview
2024-03-20 15:46:47,449 - app - INFO - Received temperature: 0.7
2024-03-20 15:46:49,196 - app - INFO - Response from model: A dog barked loudly outside, signaling the arrival of an unexpected visitor.
2024-03-20 15:46:49,196 - app - INFO - Prompt tokens: 23
2024-03-20 15:46:49,197 - app - INFO - Completion tokens: 15
2024-03-20 15:46:49,197 - app - INFO - Total tokens: 38
2024-03-20 15:46:49,198 - app - INFO - Sending summary request to OpenAI: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': 'Please create a very short (2-4 words) summary title for the following text:\nYou are a knowledgeable assistant that specializes in critical thinking and analysis. I need a test sentence with "Dog" please A dog barked loudly outside, signaling the arrival of an unexpected visitor.'}], 'max_tokens': 10}
2024-03-20 15:46:49,719 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "Surprise Visitor Signaled",
        "role": "assistant"
      }
    }
  ],
  "created": 1710974808,
  "id": "chatcmpl-94yzos4jeOjQOYR9hSlSBExjMN0rY",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": "fp_4f0b692a78",
  "usage": {
    "completion_tokens": 5,
    "prompt_tokens": 63,
    "total_tokens": 68
  }
}
2024-03-20 15:46:49,723 - app - INFO - Generated conversation summary: Surprise Visitor Signaled
2024-03-20 15:46:49,730 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are a knowledgeable assistant that specializes in critical thinking and analysis.'}, {'role': 'user', 'content': 'I need a test sentence with "Dog" please'}, {'role': 'assistant', 'content': 'A dog barked loudly outside, signaling the arrival of an unexpected visitor.'}]
2024-03-20 15:47:57,187 - app - INFO - Received model: gpt-4-0125-preview
2024-03-20 15:47:57,188 - app - INFO - Received temperature: 0.7
2024-03-20 15:48:00,162 - app - INFO - Response from model: Sure, here's a test sentence for you: "The colorful bird perched quietly on the branch, observing its surroundings with keen interest."
2024-03-20 15:48:00,163 - app - INFO - Prompt tokens: 23
2024-03-20 15:48:00,164 - app - INFO - Completion tokens: 28
2024-03-20 15:48:00,164 - app - INFO - Total tokens: 51
2024-03-20 15:48:00,165 - app - INFO - Sending summary request to OpenAI: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': 'Please create a very short (2-4 words) summary title for the following text:\nYou are a knowledgeable assistant that specializes in critical thinking and analysis. I need a test sentence with "bird" please Sure, here\'s a test sentence for you: "The colorful bird perched quietly on the branch, observing its surroundings with keen interest."'}], 'max_tokens': 10}
2024-03-20 15:48:00,714 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "length",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "Test sentence with \"bird\": Colorful bird per",
        "role": "assistant"
      }
    }
  ],
  "created": 1710974879,
  "id": "chatcmpl-94z0xjjpuUf0U8eZalNBtx5MzSd3W",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": "fp_fa89f7a861",
  "usage": {
    "completion_tokens": 10,
    "prompt_tokens": 76,
    "total_tokens": 86
  }
}
2024-03-20 15:48:00,720 - app - INFO - Generated conversation summary: Test sentence with "bird": Colorful bird per
2024-03-20 15:48:00,725 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are a knowledgeable assistant that specializes in critical thinking and analysis.'}, {'role': 'user', 'content': 'I need a test sentence with "bird" please'}, {'role': 'assistant', 'content': 'Sure, here\'s a test sentence for you: "The colorful bird perched quietly on the branch, observing its surroundings with keen interest."'}]
2024-03-20 15:50:04,567 - app - INFO - Received model: None
2024-03-20 15:50:04,568 - app - INFO - Received temperature: 0.7
2024-03-20 15:50:04,570 - app - INFO - Using existing conversation with id 330.
2024-03-20 15:50:04,570 - app - INFO - Response from model: Sorry, the selected model is not supported yet.
2024-03-20 15:50:04,572 - app - ERROR - Exception on /chat [POST]
Traceback (most recent call last):
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\app.py", line 528, in chat
    prompt_tokens = count_tokens(model_name, messages)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\app.py", line 587, in count_tokens
    if model_name.startswith("gpt-"):
       ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'startswith'
2024-03-20 15:50:29,472 - app - INFO - Received model: gpt-4-0125-preview
2024-03-20 15:50:29,473 - app - INFO - Received temperature: 0.7
2024-03-20 15:50:32,121 - app - INFO - Response from model: "During the sunny afternoon, the dog joyfully chased its tail in the park, embodying the essence of carefree happiness."
2024-03-20 15:50:32,296 - app - INFO - Prompt tokens: 21
2024-03-20 15:50:32,298 - app - INFO - Completion tokens: 26
2024-03-20 15:50:32,298 - app - INFO - Total tokens: 47
2024-03-20 15:50:32,300 - app - INFO - Sending summary request to OpenAI: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': 'Please create a very short (2-4 words) summary title for the following text:\nYou are a knowledgeable assistant that specializes in critical thinking and analysis. A test sentence with "Dog" please "During the sunny afternoon, the dog joyfully chased its tail in the park, embodying the essence of carefree happiness."'}], 'max_tokens': 10}
