2024-05-29 05:53:35,515 - app - INFO - Response from model: The README file is quite comprehensive and covers the majority of the important aspects of the project. However, based on the provided `app.py` file, there are a few additions and updates that can be made to further enhance the README:

1. In the "Key Functions" section, under `app.py`, add the following function descriptions:

```
- `get_websites(system_message_id)`: Retrieves all websites associated with a specific system message.
- `add_website()`: Adds a new website URL to a system message.
- `remove_website(website_id)`: Removes a website from a system message.
- `reindex_website(website_id)`: Initiates the re-indexing process for a website.
- `get_current_model()`: Retrieves the current model associated with the default system message.
- `create_system_message()`: Creates a new system message (admin only).
- `get_system_messages()`: Retrieves all system messages.
- `update_system_message(message_id)`: Updates an existing system message (admin only).
- `delete_system_message(message_id)`: Deletes a system message (admin only).
- `get_folders()`: Retrieves all folders.
- `create_folder()`: Creates a new folder.
- `get_folder_conversations(folder_id)`: Retrieves conversations within a specific folder.
- `create_conversation_in_folder(folder_id)`: Creates a new conversation within a folder.
- `update_conversation_title(conversation_id)`: Updates the title of a conversation.
- `delete_conversation(conversation_id)`: Deletes a conversation.
- `clear_session()`: Clears the session data.
- `generate_summary(messages)`: Generates a summary title for a conversation based on the recent messages.
- `reset_conversation()`: Resets the current conversation.
- `get_response_from_model(model, messages, temperature)`: Routes the request to the appropriate API based on the selected model.
- `count_tokens(model_name, messages)`: Counts the number of tokens in the messages based on the model.
- `get_active_conversation()`: Retrieves the active conversation ID from the session.
```

2. In the "External Libraries and Scripts" section, add the following libraries:

```
- **tiktoken**: A tokenizer library used for counting tokens in messages based on the selected model.
- **google.generativeai**: A library for interacting with Google's Generative AI models (e.g., Gemini).
```

3. In the "Feature Roadmap" section, consider adding the following items based on the `app.py` functionality:

```
- **Folder Management**: Enhance the folder management system to allow users to organize conversations into folders for better organization and retrieval.
- **Website Indexing**: Implement a feature to index websites associated with system messages, enabling users to retrieve relevant information from external sources during conversations.
- **Token Usage Tracking**: Extend the token usage tracking functionality to provide detailed insights into token consumption across different models and conversations.
```

These additions will provide a more comprehensive overview of the key functions, libraries, and potential future enhancements based on the current state of the `app.py` file.

Remember to integrate these updates into the existing README structure to maintain consistency and readability.
2024-05-29 05:53:35,705 - app - INFO - Prompt tokens: 8625
2024-05-29 05:53:35,706 - app - INFO - Completion tokens: 647
2024-05-29 05:53:35,707 - app - INFO - Total tokens: 9272
2024-05-29 05:53:35,708 - app - INFO - Conversation history truncated for summary generation
2024-05-29 05:53:36,509 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "Updating AI \u221e UI README",
        "role": "assistant"
      }
    }
  ],
  "created": 1716987214,
  "id": "chatcmpl-9UD66gUNXFJRtyRV55OYBgJMyNkuQ",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": null,
  "usage": {
    "completion_tokens": 6,
    "prompt_tokens": 782,
    "total_tokens": 788
  }
}
