2024-05-04 12:25:46,537 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "UI Solution Development",
        "role": "assistant"
      }
    }
  ],
  "created": 1714850745,
  "id": "chatcmpl-9LFIvppcEm1Nizal0LGRnB81jFyF7",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": "fp_3b956da36b",
  "usage": {
    "completion_tokens": 3,
    "prompt_tokens": 74,
    "total_tokens": 77
  }
}
2024-05-04 12:25:46,551 - app - INFO - Generated conversation summary: UI Solution Development
2024-05-04 12:25:46,554 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are a knowledgeable assistant that specializes in critical thinking and analysis, helping with the development of a UI solution for large language models.'}, {'role': 'user', 'content': 'A test sentence please'}, {'role': 'assistant', 'content': 'Sure, here is a test sentence: "The quick brown fox jumps over the lazy dog."'}]
2024-05-04 12:26:06,959 - app - INFO - Received model: gpt-3.5-turbo-0613
2024-05-04 12:26:06,960 - app - INFO - Received temperature: 0.7
2024-05-04 12:26:06,961 - app - INFO - Response from model: Sorry, the selected model is not supported yet.
2024-05-04 12:26:06,963 - app - ERROR - Exception on /chat [POST]
Traceback (most recent call last):
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask_cors\extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask\app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\venv\Lib\site-packages\flask_login\utils.py", line 290, in decorated_view
    return current_app.ensure_sync(func)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\app.py", line 545, in chat
    prompt_tokens = count_tokens(model_name, messages)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kevina\Documents\~LLMS and AI\chatbot\app.py", line 604, in count_tokens
    if model_name.startswith("gpt-"):
       ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'startswith'
2024-05-04 12:26:33,410 - app - INFO - Received model: gpt-4-1106-preview
2024-05-04 12:26:33,410 - app - INFO - Received temperature: 0.7
2024-05-04 12:26:34,603 - app - INFO - Response from model: Certainly, let's construct a sample API request for clarity, shall we apple?
2024-05-04 12:26:34,605 - app - INFO - Prompt tokens: 35
2024-05-04 12:26:34,607 - app - INFO - Completion tokens: 16
2024-05-04 12:26:34,609 - app - INFO - Total tokens: 51
2024-05-04 12:26:34,611 - app - INFO - Sending summary request to OpenAI: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': 'Please create a very short (2-4 words) summary title for the following text:\nYou are assisting with the development of a new API interface.  For any question, please end the sentence with the word "apple". A test sentence please A test sentence please Certainly, let\'s construct a sample API request for clarity, shall we apple?'}], 'max_tokens': 10}
2024-05-04 12:26:35,134 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "API request sample apple",
        "role": "assistant"
      }
    }
  ],
  "created": 1714850793,
  "id": "chatcmpl-9LFJhsODE3w1v6MLJI4Y3BZq539Kh",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": "fp_3b956da36b",
  "usage": {
    "completion_tokens": 4,
    "prompt_tokens": 76,
    "total_tokens": 80
  }
}
2024-05-04 12:26:35,140 - app - INFO - Generated conversation summary: API request sample apple
2024-05-04 12:26:35,146 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are assisting with the development of a new API interface.  For any question, please end the sentence with the word "apple".'}, {'role': 'user', 'content': 'A test sentence please'}, {'role': 'user', 'content': 'A test sentence please'}, {'role': 'assistant', 'content': "Certainly, let's construct a sample API request for clarity, shall we apple?"}]
2024-05-04 14:49:14,497 - app - INFO - Received model: claude-3-opus-20240229
2024-05-04 14:49:14,498 - app - INFO - Received temperature: 0
2024-05-04 14:49:16,756 - app - INFO - Response from model: Here is a test sentence for you. apple
2024-05-04 14:49:16,987 - app - INFO - Prompt tokens: 32
2024-05-04 14:49:16,987 - app - INFO - Completion tokens: 9
2024-05-04 14:49:16,987 - app - INFO - Total tokens: 41
2024-05-04 14:49:16,987 - app - INFO - Sending summary request to OpenAI: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': 'Please create a very short (2-4 words) summary title for the following text:\nYou are helping develop a Flask app.  This is a stored system message test.  Please end any response with the word "apple". A test sentence please Here is a test sentence for you. apple'}], 'max_tokens': 10}
2024-05-04 14:49:17,421 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "Flask app stored messagesApple",
        "role": "assistant"
      }
    }
  ],
  "created": 1714859356,
  "id": "chatcmpl-9LHXo5TbGPO8wq9iVoJpXAduAOEI9",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": "fp_a450710239",
  "usage": {
    "completion_tokens": 6,
    "prompt_tokens": 66,
    "total_tokens": 72
  }
}
2024-05-04 14:49:17,424 - app - INFO - Generated conversation summary: Flask app stored messagesApple
2024-05-04 14:49:17,432 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are helping develop a Flask app.  This is a stored system message test.  Please end any response with the word "apple".'}, {'role': 'user', 'content': 'A test sentence please'}, {'role': 'assistant', 'content': 'Here is a test sentence for you. apple'}]
2024-05-04 15:23:40,657 - app - INFO - Received model: gpt-4-turbo-2024-04-09
2024-05-04 15:23:40,658 - app - INFO - Received temperature: 0.7
2024-05-04 15:23:41,743 - app - INFO - Response from model: Sure! Here is a test sentence for you to use:

"The quick brown fox jumps over the lazy dog."
2024-05-04 15:23:41,954 - app - INFO - Prompt tokens: 30
2024-05-04 15:23:41,955 - app - INFO - Completion tokens: 22
2024-05-04 15:23:41,956 - app - INFO - Total tokens: 52
2024-05-04 15:23:41,956 - app - INFO - Sending summary request to OpenAI: {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': 'Please create a very short (2-4 words) summary title for the following text:\nYou are a knowledgeable assistant that specializes in critical thinking and analysis, helping with the development of a UI solution for large language models. A test sentence please Sure! Here is a test sentence for you to use:\n\n"The quick brown fox jumps over the lazy dog."'}], 'max_tokens': 10}
2024-05-04 15:23:42,243 - app - INFO - Response from OpenAI for summary: {
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "logprobs": null,
      "message": {
        "content": "UI Solution for Large Language Models",
        "role": "assistant"
      }
    }
  ],
  "created": 1714861421,
  "id": "chatcmpl-9LI57AT9K1pJ7x9MoqGDot0OVqXvM",
  "model": "gpt-3.5-turbo-0125",
  "object": "chat.completion",
  "system_fingerprint": "fp_a450710239",
  "usage": {
    "completion_tokens": 6,
    "prompt_tokens": 77,
    "total_tokens": 83
  }
}
2024-05-04 15:23:42,243 - app - INFO - Generated conversation summary: UI Solution for Large Language Models
2024-05-04 15:23:42,259 - app - INFO - Received messages: [{'role': 'system', 'content': 'You are a knowledgeable assistant that specializes in critical thinking and analysis, helping with the development of a UI solution for large language models.'}, {'role': 'user', 'content': 'A test sentence please'}, {'role': 'assistant', 'content': 'Sure! Here is a test sentence for you to use:\n\n"The quick brown fox jumps over the lazy dog."'}]
2024-05-04 15:38:05,857 - app - INFO - Received model: gpt-4-turbo-2024-04-09
2024-05-04 15:38:05,859 - app - INFO - Received temperature: 0.7
2024-05-04 15:38:05,861 - app - INFO - Using existing conversation with id 377.
2024-05-04 15:38:08,900 - app - INFO - Response from model: Certainly! Here's another test sentence:

"Lightning flashed across the sky, illuminating the dark, winding path ahead."
2024-05-04 15:38:09,105 - app - INFO - Prompt tokens: 54
2024-05-04 15:38:09,105 - app - INFO - Completion tokens: 25
2024-05-04 15:38:09,105 - app - INFO - Total tokens: 79
